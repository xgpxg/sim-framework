{"version":3,"sources":["webpack:///./node_modules/hey-log/log.js","webpack:///./src/components/api/task-list.vue?2bf0","webpack:///./src/components/api/task-list.vue?1887","webpack:///./src/components/api/task-list.vue","webpack:///src/components/api/task-list.vue","webpack:///./src/components/api/task-log-modal.vue?a7b8","webpack:///src/components/api/task-log-modal.vue","webpack:///./src/components/api/task-log-modal.vue?7927","webpack:///./src/components/api/task-log-modal.vue?b85f","webpack:///./src/components/api/task-log-modal.vue?3990"],"names":["global","factory","module","exports","window","heyLog","console","log","bind","info","apply","arguments","error","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","datas","dicts","group","prop","title","model","value","callback","$$v","params","expression","status","initData","height","loading","align","width","scopedSlots","_u","key","fn","ref","data","directives","name","rawName","className","domProps","textContent","_s","small","trueValue","falseValue","on","change","$event","enabled","$set","slot","_v","text","click","openModal","fixed","opts","trigger","class-name","opt","pagination","total","layout","changePage","_e","staticRenderFns","api_task_listvue_type_script_lang_js_","task_listvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","components","TaskLogModal","_task_log_modal__WEBPACK_IMPORTED_MODULE_3__","page","size","selected","appInfo","appInfos","open","appStatus","openSimulation","itemCode","itemText","reqMethod","apiType","mounted","init","watch","getData","methods","that","reqParam","appName","hey_utils__WEBPACK_IMPORTED_MODULE_2___default","a","extend","_js_common_ajax__WEBPACK_IMPORTED_MODULE_1__","get","then","res","list","initOpt","taskList","forEach","item","state","taskId","id","disabled","remove","splice","indexOf","add","_this","$Loading","postJson","code","$Message","success","close","_this2","$Modal","vue","taskInfo","hasCloseIcon","draggable","events","modal","_this3","taskName","staticStyle","padding","_l","index","class","level","splitLineNumArray","line-height","color","instanceId","createDate","display","task_log_modalvue_type_script_lang_js_","props","rules","required","logList","dict","reqMethods","ajax","lastInstId","i","validResult","$refs","form","valid","result","apiUrl","apiInfo","resData","$emit","del","api_task_log_modalvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_task_log_modal_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_task_log_modal_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-11a7ce03.b2719734.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.log = factory();\n}((typeof window == 'object' ? window : typeof global == 'object' ? global : this), function () {\n  \"use strict\";\n  var heyLog = {};\n  heyLog = console.log.bind(console);\n  heyLog = heyLog || function(){};\n  heyLog.info = function() {\n    console.info.apply(console, arguments);\n  }\n\n  heyLog.error = function() {\n    console.error.apply(console, arguments);\n  }\n  return heyLog;\n}));\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-list-vue frame-page h-panel\"},[_c('div',{staticClass:\"h-panel-bar\"},[_c('div',{staticClass:\"search-picker\"},[_c('SearchFilter',{attrs:{\"datas\":_vm.dicts.group,\"prop\":\"group\",\"title\":\"分组\"},model:{value:(_vm.params),callback:function ($$v) {_vm.params=$$v},expression:\"params\"}}),_c('SearchFilter',{attrs:{\"datas\":_vm.dicts.status,\"prop\":\"state\",\"title\":\"任务状态\"},model:{value:(_vm.params),callback:function ($$v) {_vm.params=$$v},expression:\"params\"}})],1)]),_c('Table',{attrs:{\"datas\":_vm.initData,\"height\":600,\"loading\":_vm.loading}},[_c('TableItem',{attrs:{\"title\":\"ID\",\"prop\":\"id\",\"align\":\"center\",\"width\":50}}),_c('TableItem',{attrs:{\"title\":\"任务名称\",\"width\":100,\"prop\":\"taskName\",\"align\":\"center\"}}),_c('TableItem',{attrs:{\"title\":\"分组\",\"prop\":\"group\",\"align\":\"center\",\"width\":80}}),_c('TableItem',{attrs:{\"title\":\"任务类\",\"align\":\"center\",\"width\":200},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('span',{directives:[{name:\"width\",rawName:\"v-width\",value:(100),expression:\"100\"}],staticClass:\"text-ellipsis\",attrs:{\"title\":data.className},domProps:{\"textContent\":_vm._s(data.className)}})]}}])}),_c('TableItem',{attrs:{\"title\":\"定时规则\",\"prop\":\"cron\",\"align\":\"center\",\"width\":150}}),_c('TableItem',{attrs:{\"title\":\"状态\",\"align\":\"center\",\"prop\":\"state\",\"width\":80}}),_c('TableItem',{attrs:{\"title\":\"归属应用\",\"prop\":\"appName\",\"align\":\"center\"}}),_c('TableItem',{attrs:{\"title\":\"启用状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('h-switch',{attrs:{\"small\":true,\"trueValue\":\"1\",\"falseValue\":\"0\"},on:{\"change\":function($event){return _vm.enabled(data)}},model:{value:(data.enabled),callback:function ($$v) {_vm.$set(data, \"enabled\", $$v)},expression:\"data.enabled\"}},[_c('span',{attrs:{\"slot\":\"true\"},slot:\"true\"},[_vm._v(\"启用\")]),_c('span',{attrs:{\"slot\":\"false\"},slot:\"false\"},[_vm._v(\"停止\")])])]}}])}),_c('TableItem',{attrs:{\"title\":\"应用地址\",\"prop\":\"appAddr\",\"width\":150,\"align\":\"center\"}}),_c('TableItem',{attrs:{\"title\":\"日志\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('Button',{attrs:{\"text\":true},on:{\"click\":function($event){return _vm.openModal(data)}}},[_vm._v(\"日志\")])]}}])}),_c('TableItem',{attrs:{\"title\":\"操作\",\"width\":100,\"fixed\":\"right\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('DropdownMenu',{attrs:{\"datas\":data.opts,\"trigger\":\"hover\",\"class-name\":\"h-text-dropdown\",\"width\":100},on:{\"click\":_vm.opt}},[_c('span',[_vm._v(\"操作选择\")])])]}}])}),_c('div',{attrs:{\"slot\":\"empty\"},slot:\"empty\"},[_vm._v(\"暂无数据\")])],1),_c('br'),(_vm.pagination.total>0)?_c('Pagination',{attrs:{\"small\":false,\"align\":\"right\",\"layout\":\"pager\"},on:{\"change\":_vm.changePage},model:{value:(_vm.pagination),callback:function ($$v) {_vm.pagination=$$v},expression:\"pagination\"}}):_vm._e(),_c('br')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./task-list.vue?vue&type=template&id=24c652e1&scoped=true&\"\nimport script from \"./task-list.vue?vue&type=script&lang=js&\"\nexport * from \"./task-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24c652e1\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"search-list-vue frame-page h-panel\">\n      <!--<div>\n        <Tabs style=\"padding: 20px;background-color: white\" :datas=\"appInfos\" v-model=\"selected\" @change=\"change\">\n          <template slot-scope=\"{tab}\" slot=\"item\">\n            <span v-if=\"tab.status!=='1'\" style=\"color: darkgrey\"><span>{{tab.itemCode}}</span>（离线）</span>\n            <span v-if=\"tab.status==='1'\"><span>{{tab.itemCode}}</span></span>\n          </template>\n        </Tabs>\n      </div>-->\n      <div class=\"h-panel-bar\">\n        <div class=\"search-picker\">\n          <SearchFilter v-model=\"params\" :datas=\"dicts.group\" prop=\"group\"\n                        title=\"分组\"></SearchFilter>\n          <SearchFilter v-model=\"params\" :datas=\"dicts.status\" prop=\"state\"\n                        title=\"任务状态\"></SearchFilter>\n        </div>\n      </div>\n      <Table :datas=\"initData\" :height=\"600\" :loading=\"loading\">\n        <TableItem title=\"ID\" prop=\"id\" align=\"center\" :width=\"50\"></TableItem>\n        <TableItem title=\"任务名称\" :width=\"100\" prop=\"taskName\" align=\"center\" ></TableItem>\n        <TableItem title=\"分组\" prop=\"group\" align=\"center\" :width=\"80\"></TableItem>\n        <TableItem title=\"任务类\" align=\"center\" :width=\"200\" >\n          <template slot-scope=\"{data}\">\n            <span v-text=\"data.className\" :title=\"data.className\" class=\"text-ellipsis\" v-width=\"100\"></span>\n          </template>\n        </TableItem>\n        <TableItem title=\"定时规则\" prop=\"cron\" align=\"center\" :width=\"150\"></TableItem>\n        <TableItem title=\"状态\" align=\"center\" prop=\"state\" :width=\"80\"></TableItem>\n        <TableItem title=\"归属应用\" prop=\"appName\" align=\"center\"></TableItem>\n        <!--<TableItem title=\"应用地址\" prop=\"appAddr\" align=\"center\"></TableItem>-->\n        <TableItem title=\"启用状态\" align=\"center\">\n          <template slot-scope=\"{data}\">\n            <h-switch v-model=\"data.enabled\" :small=\"true\" trueValue=\"1\" falseValue=\"0\"\n                      @change=\"enabled(data)\">\n              <span slot=\"true\">启用</span>\n              <span slot=\"false\">停止</span>\n            </h-switch>\n          </template>\n        </TableItem>\n        <TableItem title=\"应用地址\" prop=\"appAddr\" :width=\"150\" align=\"center\">\n\n        </TableItem>\n        <TableItem title=\"日志\" align=\"center\">\n          <template slot-scope=\"{data}\">\n            <Button :text=\"true\" @click=\"openModal(data)\">日志</Button>\n          </template>\n        </TableItem>\n\n        <TableItem title=\"操作\" :width=\"100\" fixed=\"right\" align=\"center\">\n          <template slot-scope=\"{data}\">\n            <DropdownMenu @click=\"opt\" :datas=\"data.opts\" trigger=\"hover\" class-name=\"h-text-dropdown\" :width=\"100\">\n              <span>操作选择</span>\n            </DropdownMenu>\n          </template>\n        </TableItem>\n        <div slot=\"empty\">暂无数据</div>\n      </Table>\n      <br>\n      <Pagination v-if=\"pagination.total>0\" :small=\"false\" align=\"right\" v-model=\"pagination\" @change=\"changePage\"\n                  layout=\"pager\"></Pagination>\n      <br>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Ajax from \"../../js/common/ajax\";\n  import utils from 'hey-utils';\n  import TaskLogModal from './task-log-modal';\n\n  export default {\n    name: \"task-list\",\n    components: {\n      TaskLogModal\n    },\n    data() {\n      return {\n        loading: false,\n        initData: [],\n        pagination: {\n          page: 1,\n          size: 10,\n          total: 0\n        },\n        selected: '',\n        appInfo: {},\n        appInfos:[],\n        open: 0,\n        appStatus:'',\n        dicts: {\n          openSimulation: [{itemCode: '1', itemText: '是'}, {itemCode: '0', itemText: '否'}],\n          reqMethod: [\n            {itemCode: 'GET', itemText: 'GET'},\n            {itemCode: 'POST', itemText: 'POST'},\n            {itemCode: 'PATCH', itemText: 'PATCH'},\n            {itemCode: 'PUT', itemText: 'PUT'},\n            {itemCode: 'DELETE', itemText: 'DELETE'}],\n          status: [{itemCode: 'NORMAL', itemText: '正常'}, {itemCode: 'SUSPEND', itemText: '暂停'}, {itemCode: 'NONE', itemText: '停止'}],\n          apiType:[{itemCode: '1000', itemText: '自动注册'},{itemCode: '2000', itemText: '手动注册'}],\n          group:[{itemCode: 'DEFAULT', itemText: '默认分组'}]\n        },\n        params: {}\n      }\n    },\n    mounted() {\n      this.init();\n    },\n    watch: {\n      params() {\n        this.getData();\n      }\n    },\n    methods: {\n      init() {\n        this.getData();\n\n      },\n      getData() {\n        let that = this;\n        that.loading = true;\n        let reqParam = {};\n        reqParam.pagination = that.pagination;\n        if (this.selected !== '') {\n          reqParam.appName = this.selected;\n        }\n        utils.extend(reqParam, this.params);\n        Ajax.get(\"/simTaskManager/taskList\", reqParam).then((res) => {\n          that.initData = res.data.list;\n          that.initOpt(that.initData);\n          that.pagination.total = res.data.total;\n          that.loading = false;\n          console.log(res)\n        });\n      },\n      initOpt(taskList){\n        taskList.forEach(item=>{\n          let state = item.state;\n          let taskId = item.id;\n          let enabled = item.enabled;\n          item.opts = [\n            /*{taskId:taskId,itemCode: 'edit', itemText: '编辑'},*/\n            {taskId:taskId,itemCode: 'suspend', itemText: '暂停',disabled:state==='SUSPEND'||state==='NONE'||!enabled},\n            {taskId:taskId,itemCode: 'resume', itemText: '恢复',disabled:state==='NORMAL'||state==='NONE'||!enabled},\n            {taskId:taskId,itemCode: 'stop', itemText: '停止',disabled:state==='NONE'||!enabled},\n            {taskId:taskId,itemCode: 'start', itemText: '启动',disabled:state==='NORMAL'||state==='SUSPEND'||!enabled}\n          ];\n        })\n      },\n      remove(datas, data) {\n        log(this.appInfo);\n        datas.splice(datas.indexOf(data), 1);\n      },\n      add(datas) {\n\n      },\n      /**\n       * 选项卡切换\n       */\n      change(data) {\n        let that = this;\n        this.getData();\n      },\n      /**\n       * 打开/关闭模拟\n       * @param data\n       */\n      enabled(data) {\n        let that = this;\n        let taskId = data.id;\n        this.$Loading();\n        let enabled = data.enabled;\n        if (enabled === 0) {\n          enabled = 1;\n        } else if (enabled === 1) {\n          enabled = 0;\n        }\n        Ajax.postJson(\"/simTaskManager/enabled?taskId=\"+taskId+\"&enabled=\" + enabled).then((res) => {\n          if (res.code === 1) {\n            data.enabled = enabled;\n            that.$Message.success(res.data);\n          } else {\n            data.enabled = !enabled;\n          }\n          that.$Loading.close();\n          this.getData();\n        })\n      },\n      changePage(page) {\n        this.pagination = page;\n        this.getData();\n      },\n      openModal(data) {\n        let that = this;\n        this.$Modal({\n          component: {\n            vue: TaskLogModal,\n            datas: {taskInfo: data},\n          },\n          //width: 1,\n          //height:1,\n          hasCloseIcon:true,\n          draggable:true,\n          events: {\n            success: (modal, data) => {\n              this.value = data;\n              that.getData();\n            }\n          }\n        })\n      },\n      opt(code,data) {\n        let that = this;\n        let taskId = data.taskId;\n        Ajax.postJson(\"/simTaskManager/state?taskId=\"+taskId+\"&state=\" + code).then((res) => {\n          if (res.code === 1) {\n            data.openSimulation = open;\n            that.$Message.success(res.data);\n          } else {\n            data.openSimulation = !open;\n          }\n          that.$Loading.close();\n          this.getData();\n        });\n        //this.$Message.info(`您点击了${JSON.stringify(a)}`);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"task-log\"},[_c('header',{staticClass:\"h-modal-header\"},[_vm._v(_vm._s(_vm.taskInfo.taskName)+\" - 执行日志\")]),_c('div',{staticStyle:{\"padding\":\"0\"}},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"shell-container\"},[_c('div',{staticClass:\"body-shell\"},[_c('p',{staticClass:\"INFO\"}),_vm._l((_vm.initData.logList),function(log,index){return _c('div',{class:log.level},[(_vm.initData.splitLineNumArray[index])?_c('div',{staticStyle:{\"line-height\":\"50px\"}},[_c('span',{staticStyle:{\"color\":\"lightgrey\"}},[_vm._v(_vm._s(_vm.taskInfo.taskName)+\"，实例ID：\"+_vm._s(log.instanceId))])]):_vm._e(),_c('div',[_c('span',{domProps:{\"textContent\":_vm._s(log.instanceId)}}),_vm._v(\" \\n              \"),_c('span',{domProps:{\"textContent\":_vm._s(log.createDate)}}),_vm._v(\" \\n              \"),_c('span',{staticStyle:{\"width\":\"50px\",\"display\":\"inline-block\"},domProps:{\"textContent\":_vm._s(log.level)}}),_vm._v(\" \\n              [\"),_c('span',{domProps:{\"textContent\":_vm._s(_vm.taskInfo.className)}}),_vm._v(\"] :\\n              \"),_c('span',{domProps:{\"textContent\":_vm._s(log.log)}})])])})],2)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style>\n  .container .shell-container {\n    margin: auto;\n    background-color: #000000;\n    width: 900px;\n    height: 500px;\n\n    display: flex;\n    flex-direction: column;\n  }\n\n  .container .shell-container .header-shell {\n    margin: auto;\n    background-color: white;\n    width: 100%;\n    height: 35px;\n    display: flex;\n  }\n\n  .container .shell-container .body-shell {\n    margin: 9px 0;\n    overflow-y: scroll;\n    height: 470px;\n    width: 100%;\n    line-height: 0px;\n    display: flex;\n    flex-direction: column;\n    font-size: 14px;\n  }\n\n  .container .shell-container .body-shell .DEBUG {\n    color: dodgerblue;\n    margin: 10px 0;\n  }\n\n  .container .shell-container .body-shell .INFO {\n    color: white;\n    margin: 10px 0;\n  }\n\n  .container .shell-container .body-shell .WARN {\n    color: orange;\n    margin: 10px 0;\n  }\n\n  .container .shell-container .body-shell .ERROR {\n    color: red;\n    margin: 10px 0;\n  }\n\n  @keyframes pong {\n    0% {\n      background-color: #DFDFDF;\n    }\n    50% {\n      background-color: #DFDFDF;\n    }\n    51% {\n      background-color: #000000;\n    }\n  }\n\n  .task-log h-modal-header {\n    color: red;\n  }\n\n  .task-log fieldset {\n    border: none;\n    padding: 0;\n    border-top: 1px solid darkgray;\n    text-align: center;\n    width: 300px;\n    margin: auto;\n  }\n\n  .task-log legend {\n    padding: 0 10px;\n    font-size: 16px;\n    color: darkgray;\n  }\n\n\n</style>\n<template>\n  <div class=\"task-log\">\n    <!-- h-modal-header 将自带modal头部样式 -->\n    <header class=\"h-modal-header\">{{taskInfo.taskName}} - 执行日志</header>\n    <div style=\"padding:0\">\n      <div class=\"container\">\n        <div class=\"shell-container\">\n          <div class=\"body-shell\">\n            <p class=\"INFO\"></p>\n            <div v-for=\"(log,index) of initData.logList\" :class=\"log.level\">\n              <div style=\"line-height: 50px\"\n                   v-if=\"initData.splitLineNumArray[index]\">\n                <span style=\"color: lightgrey\">{{taskInfo.taskName}}，实例ID：{{log.instanceId}}</span>\n              </div>\n              <div>\n                <span v-text=\"log.instanceId\"></span>&nbsp;\n                <span v-text=\"log.createDate\"></span>&nbsp;\n                <span v-text=\"log.level\" style=\"width: 50px;display: inline-block\"></span>&nbsp;\n                [<span v-text=\"taskInfo.className\"></span>]&nbsp;:\n                <span v-text=\"log.log\"></span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Ajax from \"../../js/common/ajax\";\n\n\n  export default {\n    name: \"task-log-modal\",\n\n    props: {\n      taskInfo: Object\n    },\n    data() {\n      return {\n        rules: {\n          required: []\n        },\n        initData: {\n          logList: [],\n          splitLineNumArray: []\n        },\n        params: {\n          reqMethod: null\n        },\n        dict: {\n          reqMethod: [],\n          reqMethods: ['GET', 'POST', 'PATCH', 'PUT', 'DELETE']\n        }\n      }\n    },\n    mounted() {\n      this.init();\n    },\n    methods: {\n      init() {\n        let that = this;\n        let taskId = this.taskInfo.id;\n        let reqParam = {\n          taskId: taskId\n        };\n        Ajax.get('/simTaskManager/logList', reqParam).then((res) => {\n          let list = res.data.list;\n          that.initData.logList = list;\n          let lastInstId = -1;\n          for (let i in list) {\n            let log = list[i];\n            if (log.instanceId != lastInstId) {\n              that.initData.splitLineNumArray[i] = true;\n              lastInstId = log.instanceId;\n            }\n          }\n          console.log(that.initData.splitLineNumArray)\n        })\n      },\n      success() {\n        let validResult = this.$refs.form.valid();\n        if (!validResult.result)\n          return;\n\n        let that = this;\n        let reqParam = {};\n        reqParam.apiUrl = this.apiInfo.apiUrl;\n        reqParam.appName = this.apiInfo.appName;\n        reqParam.reqMethod = this.apiInfo.reqMethod;\n        reqParam.resData = this.params.resData;\n        Ajax.postJson(\"/api/update-api\", reqParam).then((res) => {\n          if (res.code === 1) {\n            this.$emit('success', true);\n            //this.close();\n            that.$Message.success('修改成功');\n          }\n        });\n      },\n      close() {\n        this.$emit('close');\n      },\n      del() {\n        let that = this;\n        let reqParam = {};\n        reqParam.apiUrl = this.apiInfo.apiUrl;\n        reqParam.appName = this.apiInfo.appName;\n        reqParam.reqMethod = this.apiInfo.reqMethod;\n        Ajax.postJson(\"/api/delete-api\", reqParam).then((res) => {\n          if (res.code === 1) {\n            this.$emit('success', true);\n            this.close();\n            that.$Message.success('删除成功');\n          }\n        });\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task-log-modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task-log-modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./task-log-modal.vue?vue&type=template&id=35ea67b5&scoped=true&\"\nimport script from \"./task-log-modal.vue?vue&type=script&lang=js&\"\nexport * from \"./task-log-modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./task-log-modal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"35ea67b5\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task-log-modal.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./task-log-modal.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}