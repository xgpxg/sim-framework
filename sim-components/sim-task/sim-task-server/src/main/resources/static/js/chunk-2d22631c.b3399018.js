(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22631c"],{e82e:function(a,e,t){"use strict";t.r(e);var p=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("div",{staticClass:"search-list-vue frame-page h-panel"},[a._m(0),t("div",{staticStyle:{padding:"15px"}},[t("Form",{ref:"form",attrs:{"label-width":110,model:a.params,rules:a.rules,top:.2,showErrorTip:""}},[t("FormItem",{attrs:{label:"选择应用：",prop:"appInfo"}},[t("Select",{attrs:{datas:a.appInfo,type:"object"},on:{change:a.selectChange},model:{value:a.params.appInfo,callback:function(e){a.$set(a.params,"appInfo",e)},expression:"params.appInfo"}})],1),t("FormItem",{attrs:{label:"API名称：",prop:"apiName"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.params.apiName,expression:"params.apiName"}],attrs:{type:"text"},domProps:{value:a.params.apiName},on:{input:function(e){e.target.composing||a.$set(a.params,"apiName",e.target.value)}}})]),t("FormItem",{attrs:{label:"API地址：",prop:"apiUrl"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.params.apiUrl,expression:"params.apiUrl"}],attrs:{type:"text"},domProps:{value:a.params.apiUrl},on:{input:function(e){e.target.composing||a.$set(a.params,"apiUrl",e.target.value)}}})]),t("FormItem",{attrs:{label:"请求方式：",prop:"reqMethod"}},[t("Select",{attrs:{datas:a.dict.reqMethod},model:{value:a.params.reqMethod,callback:function(e){a.$set(a.params,"reqMethod",e)},expression:"params.reqMethod"}})],1),t("FormItem",{attrs:{label:"模拟数据：",prop:"resData"}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:a.params.resData,expression:"params.resData"}],attrs:{type:"text",placeholder:"",rows:"10"},domProps:{value:a.params.resData},on:{input:function(e){e.target.composing||a.$set(a.params,"resData",e.target.value)}}})]),t("FormItem",[t("button",{staticClass:"h-btn h-btn-primary",on:{click:a.success}},[a._v("保存")]),t("button",{staticClass:"h-btn",on:{click:a.reset}},[a._v("重置")])])],1)],1)])])},s=[function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"h-panel-bar"},[t("span",{staticClass:"h-panel-title"},[a._v("新增API")])])}],r=(t("ac6a"),t("f95b")),i={name:"api-add-modal",props:{appName:String},data:function(){return{rules:{required:["appInfo","appName","apiName","appAddr","apiUrl","requestType","reqMethod"]},params:{reqMethod:null,resData:null,apiUrl:null,apiName:null,appName:null,appAddr:null,appInfo:null},dict:{reqMethod:["GET","POST","PATCH","PUT","DELETE"]},appInfo:[]}},mounted:function(){this.init()},methods:{init:function(){this.getAppList()},success:function(){var a=this,e=this.$refs.form.valid();if(e.result){var t=this;this.params.apiType="2000",r["a"].postJson("/api/add-api",this.params).then(function(e){1===e.code&&(a.$emit("success",!0),t.$Message.success("添加成功"))})}},reset:function(){this.params={},this.$refs.form.resetValid()},getAppList:function(){var a=this;r["a"].get("/api/app-list").then(function(e){e.data.forEach(function(e){var t={};t.appName=e.appName,t.appAddr=e.appAddr;var p={itemText:t.appName,itemCode:t.appAddr};a.appInfo.push(p)})})},selectChange:function(a){this.params.appName=a.itemText,this.params.appAddr=a.itemCode}}},n=i,o=t("2877"),l=Object(o["a"])(n,p,s,!1,null,"28111db5",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d22631c.b3399018.js.map