{"version":3,"sources":["webpack:///./src/components/api/api-add.vue?b25e","webpack:///src/components/api/api-add.vue","webpack:///./src/components/api/api-add.vue?8c5d","webpack:///./src/components/api/api-add.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","staticStyle","padding","ref","attrs","label-width","model","params","rules","top","showErrorTip","label","prop","datas","appInfo","type","on","change","selectChange","value","callback","$$v","$set","expression","directives","name","rawName","domProps","input","$event","target","composing","dict","reqMethod","placeholder","rows","click","success","_v","reset","staticRenderFns","api_addvue_type_script_lang_js_","props","appName","String","data","required","resData","apiUrl","apiName","appAddr","mounted","init","methods","getAppList","_this","validResult","$refs","form","valid","result","that","apiType","ajax","postJson","then","res","code","$emit","$Message","resetValid","get","forEach","d","app","dic","itemText","itemCode","push","api_api_addvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d22631c.b3399018.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-list-vue frame-page h-panel\"},[_vm._m(0),_c('div',{staticStyle:{\"padding\":\"15px\"}},[_c('Form',{ref:\"form\",attrs:{\"label-width\":110,\"model\":_vm.params,\"rules\":_vm.rules,\"top\":0.2,\"showErrorTip\":\"\"}},[_c('FormItem',{attrs:{\"label\":\"选择应用：\",\"prop\":\"appInfo\"}},[_c('Select',{attrs:{\"datas\":_vm.appInfo,\"type\":\"object\"},on:{\"change\":_vm.selectChange},model:{value:(_vm.params.appInfo),callback:function ($$v) {_vm.$set(_vm.params, \"appInfo\", $$v)},expression:\"params.appInfo\"}})],1),_c('FormItem',{attrs:{\"label\":\"API名称：\",\"prop\":\"apiName\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.params.apiName),expression:\"params.apiName\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.params.apiName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.params, \"apiName\", $event.target.value)}}})]),_c('FormItem',{attrs:{\"label\":\"API地址：\",\"prop\":\"apiUrl\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.params.apiUrl),expression:\"params.apiUrl\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.params.apiUrl)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.params, \"apiUrl\", $event.target.value)}}})]),_c('FormItem',{attrs:{\"label\":\"请求方式：\",\"prop\":\"reqMethod\"}},[_c('Select',{attrs:{\"datas\":_vm.dict.reqMethod},model:{value:(_vm.params.reqMethod),callback:function ($$v) {_vm.$set(_vm.params, \"reqMethod\", $$v)},expression:\"params.reqMethod\"}})],1),_c('FormItem',{attrs:{\"label\":\"模拟数据：\",\"prop\":\"resData\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.params.resData),expression:\"params.resData\"}],attrs:{\"type\":\"text\",\"placeholder\":\"\",\"rows\":\"10\"},domProps:{\"value\":(_vm.params.resData)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.params, \"resData\", $event.target.value)}}})]),_c('FormItem',[_c('button',{staticClass:\"h-btn h-btn-primary\",on:{\"click\":_vm.success}},[_vm._v(\"保存\")]),_c('button',{staticClass:\"h-btn\",on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])])],1)],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"h-panel-bar\"},[_c('span',{staticClass:\"h-panel-title\"},[_vm._v(\"新增API\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"search-list-vue frame-page h-panel\">\n      <div class=\"h-panel-bar\">\n        <span class=\"h-panel-title\">新增API</span>\n      </div>\n    <div style=\"padding:15px\">\n      <Form :label-width=\"110\" :model=\"params\" :rules=\"rules\" ref=\"form\" :top=\"0.2\" showErrorTip>\n        <FormItem label=\"选择应用：\" prop=\"appInfo\">\n          <Select :datas=\"appInfo\" v-model=\"params.appInfo\" @change=\"selectChange\" type=\"object\"></Select>\n        </FormItem>\n        <FormItem label=\"API名称：\" prop=\"apiName\">\n          <input type=\"text\" v-model=\"params.apiName\" />\n        </FormItem>\n        <FormItem label=\"API地址：\" prop=\"apiUrl\">\n          <input type=\"text\" v-model=\"params.apiUrl\" />\n        </FormItem>\n        <FormItem label=\"请求方式：\" prop=\"reqMethod\">\n          <Select :datas=\"dict.reqMethod\" v-model=\"params.reqMethod\"></Select>\n        </FormItem>\n        <FormItem label=\"模拟数据：\" prop=\"resData\">\n          <textarea type=\"text\" v-model=\"params.resData\" placeholder=\"\" rows=\"10\"/>\n        </FormItem>\n        <FormItem>\n          <button class=\"h-btn h-btn-primary\" @click=\"success\">保存</button>\n          <button class=\"h-btn\" @click=\"reset\" >重置</button>\n        </FormItem>\n      </Form>\n    </div>\n  </div>\n  </div>\n</template>\n\n<script>\n  import Ajax from \"../../js/common/ajax\";\n\n\n  export default {\n    name: \"api-add-modal\",\n\n    props: {\n      appName: String\n    },\n    data() {\n      return {\n        rules: {\n          required: ['appInfo','appName','apiName','appAddr','apiUrl','requestType','reqMethod']\n        },\n        params: {\n          reqMethod: null,\n          resData: null,\n          apiUrl:null,\n          apiName:null,\n          appName:null,\n          appAddr:null,\n          appInfo:null\n        },\n        dict: {\n          reqMethod: ['GET','POST','PATCH','PUT','DELETE']\n        },\n        appInfo:[]\n      }\n    },\n    mounted() {\n      this.init();\n    },\n    methods: {\n      init() {\n        this.getAppList();\n      },\n      success() {\n        let validResult = this.$refs.form.valid();\n        if (!validResult.result)\n          return;\n\n        let that = this;\n        /*let reqParam = {};\n        reqParam.appName=this.appName;\n        reqParam.apiUrl =this.params.apiUrl;\n        reqParam.apiName = this.params.apiName;\n        reqParam.requestType = this.params.reqMethod;\n        reqParam.appAddr = this.params.appAddr;*/\n        this.params.apiType='2000';\n        Ajax.postJson(\"/api/add-api\", this.params).then((res) => {\n          if (res.code === 1) {\n            this.$emit('success', true);\n            //this.close();\n            that.$Message.success('添加成功');\n          }\n        });\n      },\n      reset() {\n        this.params = {};\n        this.$refs.form.resetValid();\n      },\n      getAppList() {\n        let that = this;\n        Ajax.get(\"/api/app-list\").then((res) => {\n          res.data.forEach((d) => {\n            let app = {};\n            app.appName = d.appName;\n            app.appAddr = d.appAddr;\n            let dic = {itemText:app.appName,itemCode:app.appAddr};\n            that.appInfo.push(dic);\n          });\n        });\n      },\n      selectChange(data){\n        this.params.appName = data.itemText;\n        this.params.appAddr = data.itemCode;\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./api-add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./api-add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./api-add.vue?vue&type=template&id=28111db5&scoped=true&\"\nimport script from \"./api-add.vue?vue&type=script&lang=js&\"\nexport * from \"./api-add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28111db5\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}